@echo off
echo ========================================
echo  ?????? ?????????????? ???? GitHub
echo ========================================
echo.
echo ??????????: ?????????????? ???????????????? ?????????????????????? ???? GitHub!
echo        ?? ???????????????? ?? ???????? ?????????? ??????_?????????? ?? ??????_????????
echo.
pause

cd /d "%~dp0"

echo ???????????????? git...
git --version >nul 2>&1 || (echo Git ???? ????????????????????! ???????????????? ?? https://git-scm.com && pause && exit /b 1)

echo.
echo ?????????????????????????? git (???????? ?????? ???? ??????????????)...
if not exist .git (
    git init
)

echo.
echo ???????????????????? ???????????????????? ??????????????????????...
echo ??????????: ???????????????? ??????_?????????? ?? ??????_???????? ???? ????????!
echo.
set /p REPO_URL="?????????????? URL ?????????????????????? (???????????????? https://github.com/misha/WebGamePrototype.git): "

git remote remove origin 2>nul
git remote add origin %REPO_URL%

echo.
echo ???????????????????? ????????????...
git add .

echo.
echo ????????????...
git commit --trailer "Co-authored-by: Cursor <cursoragent@cursor.com>" -m "Initial commit" || git commit --trailer "Co-authored-by: Cursor <cursoragent@cursor.com>" -m "Update"

echo.
echo ???????????????????????????? ?????????? ?? main...
git branch -M main 2>nul

echo.
echo ?????? ???? GitHub...
git push -u origin main

echo.
echo ========================================
echo  ????????????!
echo ========================================
echo.
echo ???????? ???????? ???????????? ?????? "remote origin already exists" - ?????? ??????????????????.
echo ???????? ???????? ???????????? ?????? ?????????????????????? - ?????????????????? GitHub CLI ?????? Personal Access Token.
echo.
pause
